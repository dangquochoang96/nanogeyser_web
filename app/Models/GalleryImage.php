<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Support\Facades\Storage;

class GalleryImage extends Model
{
    protected $table = 'gallery_images';

    protected $fillable
        = [
            'link',
            'gallery_id',
            'alt',
            'order',
            'thumbnail'
        ];

    public function delete()
    {
        self::deleting(function ($image) {
            try {
                unlink(public_path($image->link));
            } catch (\Exception $exception) {

            }
        });

        return parent::delete(); // TODO: Change the autogenerated stub
    }
}
